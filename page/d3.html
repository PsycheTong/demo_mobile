<!DOCTYPE html>
<html>

	<head lang="en">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,minimal-ui">
		<title>传递事件参数</title>

		<style type="text/css">
			body {
				position: absolute;
				margin: 0;
				width: 100%;
				height: 100%;
			}
			
			#mapContainer {
				left: 0px;
				top: 0px;
				width: 100%;
				height: 100%;
				float: left;
			}
		</style>
		<script type="text/javascript" src="../js/JSWrap.js"></script>
		<script>
			var map;
			var marker;
			var circle;
			var markerEvent;
			var circleEvent;

			function mapInit() {
				var map =   new CMMap.Map("mapContainer", {zoom:13});
			
					marker = new CMMap.Marker({
				        position:[116.40, 39.90],
				        draggable:true
				    });
				    marker.setMap(map);
				    
				   	circle = new CMMap.Circle({
				        center: [116.433322, 39.900255],
				        radius: 1000, //半径
				        borderWeight: 1,
				        strokeColor: "#FF33FF",
				        strokeOpacity: 1,
				        strokeWeight: 6,
				        strokeOpacity: 0.2,
				        fillOpacity: 0.4,
				        fillColor: '#1791fc',
				        zIndex: 50,
				    });
					circle.setMap(map);

					markerEvent = marker.on('click',function (e) {
						markerEventParam(e);
					});
					circleEvent = circle.on("click", function(e) {
						circleEventParam(e);
					});
				
			}

			function markerEventParam(markerEvent) {
				alert("点位置：" + marker.getPosition());
			}

			function circleEventParam(circleEvent) {
				alert("圆半径：" + circle.getRadius() + "\n圆中心：" + circle.getCenter());
			}

	if (window.attachEvent) {
      window.attachEvent("onload", mapInit);//IE
    } else {
        window.addEventListener("load", mapInit, false);//FF
    }
		</script>
	</head>

	<body >
		<div id="mapContainer" style="position: relative;"></div>

	</body>

</html>